gm.Headless=function(){this.preLife=4,this.pulsing=0,this.haveWalls=!1,this.walls=new Array,this.interval=0},gm.Headless.prototype.create=function(){this.gameObject.sprite.loopAnim("default"),this.preLife=this.gameObject.life.remaining},gm.Headless.prototype.update=function(i){if(!monsterActivation(this)){var e=objects.main,t=this.gameObject.position;if(this.haveWalls){for(var s=objects.Director.Director.minVisibleX,a=getByTagName("pumpkin"),n=0;n<a.length;n++)a[n].position.x<s&&a[n].remove();if(0==a.length){for(r=0;r<this.walls.length;r++)this.walls[r].remove();this.walls=new Array,this.haveWalls=!1}}if("die"!=this.gameObject.sprite.currentAnim.name){if(this.gameObject.life.remaining<=0){if(a=getByTagName("pumpkin"))for(n=0;n<a.length;n++)a[n].remove();return void this.gameObject.sprite.playOnceAnim("die")}if("default"==this.gameObject.sprite.currentAnim.name&&(this.interval<0&&(this.interval=2e3,addPrefab("Golem.prefab",{position:{x:t.x,y:t.y},life:{remaining:1}})),this.interval-=i),0!=this.pulsing){if(!this.haveWalls&&e.Physics.grounded){this.haveWalls=!0;for(var r=t.x-96;r>objects.Director.Director.minVisibleX+63;r-=63){var h=objects[addPrefab("caveWall.prefab",{position:{x:r,y:10}})[0]];this.walls.push(h)}}Math.abs(e.position.x-t.x+150)<10?(e.position.x=t.x-150,e.Physics.grounded&&(this.pulsing=0,e.main.stunned=!1,e.Physics.gravityFactor=1,e.Physics.maxvy=500),e.Physics.vx=0):(e.Physics.vx=6*this.pulsing,e.main.stunned=!0,e.Physics.gravityFactor=10,e.Physics.maxvy=2e3)}this.preLife!=this.gameObject.life.remaining&&(this.preLife=this.gameObject.life.remaining,this.gameObject.sprite.playOnceAnim("sah"),this.pulsing=t.x-150-e.position.x,addPrefab("Pumpkin.prefab",{position:{x:t.x-10,y:t.y-17}})),0==this.gameObject.sprite.sprite.playing&&this.gameObject.sprite.loopAnim("default")}}},gm.Headless.prototype.dispose=function(){};