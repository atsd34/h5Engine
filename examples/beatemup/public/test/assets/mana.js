gm.mana=function(){this.remaining=10,this.sprites=[],this.updateInterval=1,this.lastupdate=0,this.maxMana=12},gm.mana.prototype.create=function(){},gm.mana.prototype.update=function(t){"idle"==this.gameObject.sprite.currentAnim.name?this.updateInterval=1:this.updateInterval=6,this.lastupdate+=t/1e3,this.lastupdate>this.updateInterval&&(this.lastupdate=0,this.remaining<this.maxMana&&this.remaining++);var i=this.remaining;if(i>this.sprites.length)for(a=0;a<i-this.sprites.length;a++){var e=createGameObject({name:{value:getGOName("mana")},position:{x:0,y:0,width:33,height:33},sprite:{path:"test.png",spriteSheet:!0,sheetTileWidth:34,sheetTileHeight:34,animationData:[{seq:[39],FPS:6,name:"default"}]}});this.sprites.push(e)}else if(i<this.sprites.length)for(a=this.sprites.length-i-1;a>=0;a--)this.sprites[a].remove(),this.sprites.splice(a,1);for(var s=(this.gameObject.position.width-2*(i-1))/2,a=0;a<i;a++)this.sprites[a].position.x=this.gameObject.position.x-this.gameObject.position.width/2+2*a+s,this.sprites[a].position.y=this.gameObject.position.y-this.gameObject.position.height/2-10},gm.mana.prototype.dispose=function(){for(var t=0;t<this.sprites.length;t++)try{this.sprites[t].remove()}catch(t){}};