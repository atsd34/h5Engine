gm.life=function(){this.remaining=6,this.sprites=[],this.invulnerable=0,this.decreasedBy=[],this.activated=!1},gm.life.prototype.create=function(){"enemy"==this.gameObject.name.tagName&&monsterActivation(this)},gm.life.prototype.decreaseBy=function(e,i){return this.remaining>0&&-1==this.decreasedBy.indexOf(e)&&(i||(i=1),this.remaining-=i,this.decreasedBy.push(e),!0)},gm.life.prototype.update=function(e){this.invulnerable>0&&(this.invulnerable-=e/1e3);var i=Math.ceil(this.remaining/2);if(i>this.sprites.length)for(r=0;r<i-this.sprites.length;r++){var t=createGameObject({name:{value:getGOName("life")},position:{x:0,y:0,width:33,height:33},sprite:{path:"test.png",spriteSheet:!0,sheetTileWidth:34,sheetTileHeight:34,animationData:[{seq:[37],FPS:6,name:"double"},{seq:[38],FPS:6,name:"single"}]}});t.sprite.playOnceAnim("double"),this.sprites.push(t)}else if(i<this.sprites.length)for(r=this.sprites.length-i-1;r>=0;r--)this.sprites[r].remove(),this.sprites.splice(r,1);for(r=this.sprites.length-1;r>=0;r--)void 0==objects[this.sprites[r].name.value]&&this.sprites.splice(r,1);for(var s=parseInt(this.gameObject.position.width/i),s=Math.min(8,s),n=(this.gameObject.position.width-s*(i-1))/2,r=0;r<i;r++)this.sprites[r].position.x=this.gameObject.position.x-this.gameObject.position.width/2+r*s+n,this.sprites[r].position.y=this.gameObject.position.y-this.gameObject.position.height/2-3;for(r=0;r<i-1;r++)"double"!=(h=this.sprites[r].sprite).currentAnim.name&&h.playOnceAnim("double");if(this.remaining/2<i)"single"!=(h=this.sprites[this.sprites.length-1].sprite).currentAnim.name&&h.playOnceAnim("single");else{var h=this.sprites[this.sprites.length-1].sprite;"double"!=h.currentAnim.name&&h.playOnceAnim("double")}},gm.life.prototype.dispose=function(){for(var e=0;e<this.sprites.length;e++)try{this.sprites[e].remove()}catch(e){}};